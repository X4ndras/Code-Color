<pre>
<span class="comment">--[[</span>
  <span class="comment">Welcome to Code: Color</span>
<span class="comment">]]--</span>

<span class="comment">-- Importing modules</span>
<span class="keyword">local</span> <span class="variable">json</span> = <span class="lua-function-builtin">require</span>(<span class="string">"json"</span>)

<span class="comment">-- Defining a table (equivalent to a struct or class)</span>
<span class="keyword">local</span> <span class="variable">Person</span> = {
    <span class="property">name</span> = <span class="string">""</span>,
    <span class="property">age</span> = <span class="number">0</span>,
    <span class="property">flying_force</span> = <span class="number">0.0</span>
}

<span class="comment">-- Constructor function</span>
<span class="keyword">function</span> <span class="variable">Person</span>:<span class="function">new</span>(<span class="parameter">name</span>, <span class="parameter">age</span>, <span class="parameter">flying_force</span>)
    <span class="variable">p</span> = {}
    <span class="lua-function-builtin">setmetatable</span>(<span class="variable">p</span>, <span class="special">self</span>)
    <span class="special">self</span>.<span class="variable">__index</span> = <span class="special">self</span>
    <span class="variable">p</span>.<span class="property">name</span> = <span class="parameter">name</span>
    <span class="variable">p</span>.<span class="property">age</span> = <span class="parameter">age</span>
    <span class="variable">p</span>.<span class="property">flying_force</span> = <span class="parameter">flying_force</span>
    <span class="keyword">return</span> <span class="variable">p</span>
<span class="keyword">end</span>

<span class="comment">-- Method to display details</span>
<span class="keyword">function</span> <span class="variable">Person</span>:<span class="function">speak</span>()
    <span class="lua-function-builtin">print</span>(<span class="string">"Hello, my name is "</span> .. <span class="special">self</span>.<span class="property">name</span>)
<span class="keyword">end</span>

<span class="comment">-- Creating an instance</span>
<span class="keyword">local</span> <span class="variable">alice</span> = <span class="variable">Person</span>:<span class="function">new</span>(<span class="string">"Alice"</span>, <span class="number">30</span>, <span class="number">9999.99</span>)
<span class="variable">alice</span>:<span class="function">speak</span>()

<span class="comment">-- Control structures</span>
<span class="keyword">if</span> <span class="variable">alice</span>.<span class="property">age</span> > <span class="number">18</span> <span class="keyword">then</span>
    <span class="lua-function-builtin">print</span>(<span class="string">"Alice is an adult"</span>)
<span class="keyword">else</span>
    <span class="lua-function-builtin">print</span>(<span class="string">"Alice is not an adult"</span>)
<span class="keyword">end</span>

<span class="comment">-- Iterating through a table</span>
<span class="keyword">local</span> <span class="variable">colors</span> = {<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>}
<span class="keyword">for</span> <span class="variable">i</span>, <span class="variable">color</span> <span class="keyword">in</span> <span class="lua-function-builtin">ipairs</span>(<span class="variable">colors</span>) <span class="keyword">do</span>
    <span class="lua-function-builtin">print</span>(<span class="string">"Color: "</span> .. <span class="variable">color</span>)
<span class="keyword">end</span>

<span class="comment">-- Using coroutines</span>
<span class="keyword">local</span> <span class="variable">co</span> = <span class="special">coroutine</span>.<span class="function">create</span>(<span class="keyword">function</span>()
    <span class="lua-function-builtin">print</span>(<span class="string">"Running coroutine"</span>)
<span class="keyword">end</span>)
<span class="special">coroutine</span>.<span class="function">resume</span>(<span class="variable">co</span>)

<span class="comment">-- Error handling</span>
<span class="keyword">local</span> <span class="variable">status</span>, <span class="variable">err</span> = <span class="lua-function-builtin">pcall</span>(<span class="keyword">function</span>()
    <span class="lua-function-builtin">error</span>(<span class="string">"Something went wrong!"</span>)
<span class="keyword">end</span>)
<span class="keyword">if</span> <span class="lua-operator">not</span> <span class="keyword">status</span> <span class="keyword">then</span>
    <span class="lua-function-builtin">print</span>(<span class="string">"Error: "</span> .. <span class="variable">err</span>)
<span class="keyword">end</span>
</pre>
